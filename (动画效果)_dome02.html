<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>多物体动画效果</title>
<style type="text/css">
*{
  margin:0;
  padding:0;	
}
ul li{
   width:300px;
   height:150px;
   background:yellow;
   margin-top:20px;	
}
#div p{
   width:300px;
   height:200px;
   background:#39b0ff;
   filter:alpha(opacity:30);
   opacity:0.3;	
   margin-top:20px;
}
</style>
<script type="text/javascript">
window.onload=function () {
  var aLi=document.getElementsByTagName("li");
  var Div=document.getElementsByTagName("p");
  for(var i=0;i<aLi.length;i++) {
	  aLi[i].timer=null;
	 aLi[i].onmouseover=function() {
		 startmove(this,400); 
	 }
	 aLi[i].onmouseout=function () {
		 startmove(this,200); 
	 }
  }
  for (var i=0;i<Div.length;i++) {
	 var Div[i].timer=null;
	 Div[i].onmouseover=function () {
		 opacityMove(this,100); 
	 }
	 Div[i].onmouseout=function () {
		 opacityMove(this,20);
	 }
  }
}

function startmove(obj,Target) {
   clearInterval(obj.timer);
   obj.timer=setInterval(function (){
	  var speed=(Target-obj.offsetWidth)/3;
	  speed=speed>0?Math.ceil(speed):Math.floor(speed);  
	  if(obj.offsetWidth==Target){
		  clearInterval(obj.timer);  
	  }
	  else {
		 obj.style.width=obj.offsetWidth+speed+"px";  
	  }
	   },50);
   
}

function opacityMove(obj,Target) {
   clearInterval(obj.timer);
   obj.timer=setInterval(function () {
	  var speed=0;
	  if(speed>Target) {
		  speed=-10;  
	  }else {
		  speed=10;
	  }
	   if(obj.alpha==Target) {
		  clearInterval(obj.timer);   
	   }else {
		  obj.alpha+=speed;
		   obj.style.filter='alpha(opacity'+obj.alpha+')';
		   ob.style.opacity=alpha/100;
	   }
	   },50);	
}
</script>
</head>

<body>
<div style="float:left">
  <ul>
     <li></li>
     <li></li>
     <Li></Li>
     <li></li>
  </ul>
</div>
<div id="div" style="float:right">
  <p id="p1"></p>
  <p id="p2"></p>
  <p id="p3"></p>
  <p id="p4"></p>
</div>
</body>
</html>
